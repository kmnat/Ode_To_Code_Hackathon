<div class="board-container">
  <div *ngIf="error" class="error-message">
    <mat-icon>error</mat-icon>
    <span>{{ error }}</span>
  </div>

  <div *ngIf="loading" class="loading-spinner">
    Loading leaderboard...
  </div>

  <div *ngIf="!loading && !error" class="leaderboard-content">
    <mat-card class="leaderboard-card">
      <mat-card-header>
        <mat-card-title>Global Leaderboard</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <table mat-table [dataSource]="leaderboardData" class="leaderboard-table">
          <!-- Rank Column -->
          <ng-container matColumnDef="rank">
            <th mat-header-cell *matHeaderCellDef> Rank </th>
            <td mat-cell *matCellDef="let player"> #{{ player.rank }} </td>
          </ng-container>

          <!-- Avatar Column -->
          <ng-container matColumnDef="avatar">
            <th mat-header-cell *matHeaderCellDef> Avatar </th>
            <td mat-cell *matCellDef="let player">
              <video [src]="player.avatarUrl" autoplay loop muted playsinline class="player-avatar"></video>
            </td>
          </ng-container>

          <!-- Username Column -->
          <ng-container matColumnDef="username">
            <th mat-header-cell *matHeaderCellDef> Username </th>
            <td mat-cell *matCellDef="let player"> {{ player.name }} </td>
          </ng-container>

          <!-- Score1 Column -->
          <ng-container matColumnDef="score1">
            <th mat-header-cell *matHeaderCellDef> Domino Score </th>
            <td mat-cell *matCellDef="let player"> {{ player.score1 || 0 }} </td>
          </ng-container>

          <!-- Score2 Column -->
          <ng-container matColumnDef="score2">
            <th mat-header-cell *matHeaderCellDef> Tree Score </th>
            <td mat-cell *matCellDef="let player"> {{ player.score2 || 0 }} </td>
          </ng-container>

          <!-- Total Score Column -->
          <ng-container matColumnDef="totalScore">
            <th mat-header-cell *matHeaderCellDef> Total Score </th>
            <td mat-cell *matCellDef="let player"> {{ player.totalScore }} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
      </mat-card-content>
    </mat-card>
  </div>
</div>
